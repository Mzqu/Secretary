var builder = require('botbuilder');
var bot = new builder.BotConnectorBot({ appId: 'YourAppId', appSecret: 'YourAppSecret' });

/*
<<<<<<< HEAD
bot.add('/', function (session) {
  if (!session.userData.name) {
      session.beginDialog('/profile');
  } else {
      session.send('Hello %s!', session.userData.name);
  }
});

bot.add('/profile', [
  function (session) {
      builder.Prompts.text(session, 'Hi! What is your name?');
  },
  function (session, results) {
      session.userData.name = results.response;
      session.endDialog();
  }
]);


module.exports = bot;
=======
*/
var model = 'https://api.projectoxford.ai/luis/v1/application?id=c413b2ef-382c-45bd-8ff0-f76d60e2a821&subscription-key=ec8bb8f3d3d74a898c1cd1ddd7e0c8c8&q=';
var dialog = new builder.LuisDialog(model);
var cortanaBot = new builder.TextBot();
cortanaBot.add('/', dialog);
dialog.on('builtin.intent.alarm.set_alarm', builder.DialogAction.send('Creating Alarm'));
dialog.on('builtin.intent.alarm.delete_alarm', builder.DialogAction.send('Deleting Alarm'));
dialog.onDefault(builder.DialogAction.send("I'm sorry I didn't understand. I can only create & delete alarms."));

cortanaBot.listenStdin();
// bot.add('/', function (session) {
  // session.send('Hello World');
// });

// module.exports = bot;
module.exports = cortanaBot;
