var Cylon = require('cylon');

Cylon.robot({
  work: function() {
    every((5).second(), function() {
      console.log("Hello, human!");
    });
  }
}).start();
//pebble: 4eac2248bde34b0c82bfffb609f314bf
Cylon.robot({
  connections: {
    bluetooth: { adaptor: 'ble', uuid: '4eac2248bde34b0c82bfffb609f314bf' },
    bluetooth: { adaptor: "central", module: __dirname + "/cylon/" }
  },

  devices: {
    battery: { driver: 'ble-battery-service' },
    generic: { driver: 'ble-generic-access' }
  },

  work: function(my) {
    console.log('started work');
    my.generic.getDeviceName(function(err, data) {
      console.log(data);
    });
    my.battery.getBatteryLevel(function(err, data) {
      console.log('getBatteryLevel');
      if (!!err) {
        console.log("Error: ", err);
        return;
      }

      console.log("Data: ", data);
    });
  }
}).start();
